# μ „λµ ν¨ν„΄

## μ¤λ¦¬ μ‹λ®¬λ μ΄μ… κ²μ„, SimUduck
- ν—¤μ—„λ„ μΉκ³  κ½¥κ½¥ μ†λ¦¬λ„ λ‚΄λ” λ‹¤μ–‘ν• μ¤λ¦¬κ°€ λ“±μ¥
- Duckμ΄λΌλ” μνΌν΄λμ¤λ¥Ό λ§λ“  λ‹¤μ, κ·Έ ν΄λμ¤λ¥Ό ν™•μ¥ν•΄μ„ μ„λ΅ λ‹¤λ¥Έ μΆ…λ¥μ μ¤λ¦¬λ¥Ό λ§λ“ λ‹¤. 

```java
public class Duck {
    void quak(){
        System.out.println('κ½¥');
    }
    void swim(){
        System.out.println('μμ');
    }
    void display{
        System.out.println('duck class');
        }
}
```

## λ¬Έμ λ°μƒ!
- `Duck ν΄λμ¤(μνΌν΄λμ¤)`μ— `fly()` ν•¨μλ¥Ό μ¶”κ°€ν•μ λ¨λ“  μ„λΈν΄λμ¤μ—μ„ `fly()`λ¥Ό μƒμ†λ°›μ
- λ‚ μ•„λ‹¤λ‹λ©΄ μ•λλ” μ¤λ¦¬μ—κ²λ„ λ‚ μ•„λ‹¤λ‹λ” κΈ°λ¥μ΄ μ¶”κ°€

## μƒμ†μ„ μƒκ°ν•κΈ°
- `fly()`λ©”μ„λ“λ„ μ¤λ²„λΌμ΄λ“ ν•μ

```java
public class RubberDuck {
    void quack{
        System.out.println('μ‚‘μ‚‘');
    }
    void display() {
        System.out.println('κ³ λ¬΄μ¤λ¦¬');
    }
    void fly(){
        //μ•„λ¬΄κ²ƒλ„ ν•μ§€ μ•λ„λ΅ μ¤λ²„λΌμ΄λ“
    }
}
```

### Duckμ ν–‰λ™μ„ μƒμ†ν•  λ• λ‹¨μ μ΄ λ  μ μλ” μ”μ†λ“¤
1. μ„λΈν΄λμ¤μ—μ„ μ½”λ“κ°€ μ¤‘λ³µλλ‹¤.
2. μ‹¤ν–‰ μ‹μ— νΉμ§•μ„ λ°”κΎΈκΈ° νλ“¤λ‹¤.
3. λ¨λ“  μ¤λ¦¬μ ν–‰λ™μ„ μ•κΈ° νλ“¤λ‹¤.
4. μ½”λ“λ¥Ό λ³‘κ²½ν–μ„ λ• λ‹¤λ¥Έ μ¤λ¦¬λ“¤μ—κ² μ›μΉ μ•μ€ μν–¥μ„ λΌμΉ  μ μλ‹¤. 

## μΈν„°νμ΄μ¤ μ„¤κ³„ν•κΈ°
- μƒμ†μ„ κ³„μ† ν™μ©ν•λ‹¤λ©΄ κ·κ²©μ΄ λ°”λ€”λ•λ§λ‹¤ ν”„λ΅κ·Έλ¨μ— μ¶”κ°€ν–λ μ„λΈ ν΄λμ¤λ“¤μ λ©”μ†λ“λ¥Ό μΌμΌμ΄ μ‚΄ν΄λ³΄κ³  μƒν™©μ— λ”°λΌ **μ¤λ²„λΌμ΄λ“**ν•΄μ•Ό ν•λ‹¤. 
- λ¨λ“  μ„λΈν΄λμ¤μ— λ‚ κ±°λ‚ κ½¥κ½¥κ±°λ¦¬λ” κΈ°λ¥μ΄ μμ–΄μ•Ό ν•λ” κ²ƒμ€ μ•„λ‹λ―€λ΅ μƒμ†μ΄ μ¬λ°”λ¥Έ λ°©λ²•μ€ μ•„λ‹λ‹¤. 
- μ„λΈν΄λμ¤μ— `Flyable`, `Quackable`μ„ κµ¬ν„ν•΄μ„ μΌλ¶€ λ¬Έμ μ μ€ ν•΄κ²°ν•  μ μμ°λ§, μ½”λ“λ¥Ό μ¬μ‚¬μ©ν•μ§€ μ•μΌλ―€λ΅ μ½”λ“ κ΄€λ¦¬μ— μ»¤λ‹¤λ€ λ¬Έμ κ°€ μƒκΈ΄λ‹¤. 

 
    ```java
    package main.java.interfaces;
    
    public class Duck {
      interface Flyable {
        void fly();
      }
    
      interface Quackable {
        void quack();
      }
    
      void swim() {
        System.out.println("swim");
      }
    
      void display() {
        System.out.println("duck : super");
      }
    
      static class MallardDuck extends Duck implements Flyable, Quackable {
    
        @Override
        void display() {
          System.out.println("duck : MallardDuck");
        }
    
        @Override
        public void fly() {
          // TODO Auto-generated method stub
          
        }
    
        @Override
        public void quack() {
          // TODO Auto-generated method stub
          
        }
      } 
    }
      ```

## λ””μμΈ μ›μΉ™ 1 π’… 

> μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ λ‹¬λΌμ§€λ” λ¶€λ¶„μ„ μ°Ύμ•„λ‚΄κ³ , λ‹¬λΌμ§€μ§€ μ•λ” λ¶€λ¶„κ³Ό λ¶„λ¦¬ν•λ‹¤.


- λ°”λ€λ” λ¶€λ¶„μ€ λ”°λ΅ λ½‘μ•„μ„ **μΊ΅μν™”**ν•λ‹¤.
- κ·Έλ¬λ©΄ λ‚μ¤‘μ— λ°”λ€μ§€ μ•λ” λ¶€λ¶„μ—λ” μν–¥μ„ λ―ΈμΉμ§€ μ•κ³  κ·Έ λ¶€λ¶„λ§ κ³ μΉκ±°λ‚ ν™•μ¥ν•  μ μλ‹¤.

## λ°”λ€λ” λ¶€λ¶„κ³Ό κ·Έλ ‡μ§€ μ•μ€ λ¶€λ¶„ λ¶„λ¦¬ν•κΈ°
- fly()μ™€ quack() λ¬Έμ λ¥Ό μ μ™Έν•λ©΄ Duck ν΄λμ¤λ” μ μ‘λ™ν•κ³  μμΌλ©°, λ‚λ¨Έμ§€ λ¶€λ¶„μ€ μμ£Ό λ‹¬λΌμ§€κ±°λ‚ λ°”λ€μ§€ μ•λ”λ‹¤. 
- **λ³€ν™”ν•λ” λ¶€λ¶„κ³Ό κ·Έλ€λ΅ μλ” λ¶€λ¶„**μ„ λ¶„λ¦¬ν•λ ¤λ©΄ 2κ°μ ν΄λμ¤ μ§‘ν•©(set)μ„ λ§λ“¤μ–΄μ•Ό ν•λ‹¤.
    - λ‚λ”κ²ƒκ³Ό κ΄€λ ¨λ λ¶€λ¶„
    - κ½¥κ½¥κ±°λ¦¬λ” κ²ƒκ³Ό κ΄€λ ¨λ λ¶€λ¶„


## μ¤λ¦¬μ ν–‰λ™μ„ λ””μμΈν•λ” λ°©λ²•
- `λ‚λ” ν–‰λ™`κ³Ό `κ½¥κ½¥κ±°λ¦¬λ” ν–‰λ™`μ„ κµ¬ν„ν•λ” ν΄λμ¤ μ§‘ν•©μ€ μ–΄λ–»κ² λ””μμΈν•΄μ•Ό ν• κΉμ”?

## λ””μμΈ μ›μΉ™ 2 π’… 

> κµ¬ν„λ³΄λ‹¤λ” μΈν„°νμ΄μ¤μ— λ§μ¶°μ„ ν”„λ΅κ·Έλλ°ν•λ‹¤.

- κ° ν–‰λ™μ€ μΈν„°νμ΄μ¤(ex. FlyBehavior, QuackBehavior)λ΅ ν‘ν„ν•κ³  μ΄λ° μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•΄μ„ ν–‰λ™μ„ κµ¬ν„ν•κ² λ‹¤. 
- λ‚λ” ν–‰λ™κ³Ό κ½¥κ½¥κ±°λ¦¬λ” ν–‰λ™μ€ μ΄μ  Duck ν΄λμ¤μ—μ„ κµ¬ν„ν•μ§€ μ•λ”λ‹¤. 
- λ€μ‹  νΉμ • ν–‰λ™λ§μ„ λ©μ μΌλ΅ ν•λ” ν΄λμ¤μ μ§‘ν•©μ„ λ§λ“¤κ² λ‹¤. 

- μ΄μ λ¶€ν„° Duckμ ν–‰λ™μ€ **λ³„λ„μ ν΄λμ¤** μ•μ— λ“¤μ–΄μλ”°.
- κ·Έλ¬λ©΄ Duck ν΄λμ¤μ—μ„λ” κ·Έ ν–‰λ™μ„ κµ¬μ²΄μ μΌλ΅ κµ¬ν„ν•  ν•„μ”κ°€ μ—†λ‹¤.

----

- **"μΈν„°νμ΄μ¤μ— λ§μ¶°μ„ ν”„λ΅κ·Έλλ°ν•λ‹¤"** λΌλ” λ§μ€ μ‚¬μ‹¤ **"μƒμ„ ν•μ‹μ— λ§μ¶°μ„ ν”„λ΅κ·Έλλ°ν•λ‹¤"**λΌλ” λ§μ΄λ‹¤. 
- **"μƒμ„ ν•μ‹μ— λ§μ¶°μ„ ν”„λ΅κ·Έλλ°ν•λΌ"**λ” μ›μΉ™μ€ **"λ³€μλ¥Ό μ„ μ–Έν•  λ• λ³΄ν†µ μ¶”μƒ ν΄λμ¤λ‚ μΈν„°νμ΄μ¤ κ°™μ€ μƒμ„ ν•μ‹μΌλ΅ μ„ μ–Έν•΄μ•Ό ν•λ‹¤.**
- κ°μ²΄λ¥Ό λ³€μμ— λ€μ…ν• λ• μƒμ„ ν•μ‹μ„ κµ¬μ²΄μ μΌλ΅ κµ¬ν„ν• ν•μ‹μ΄λΌλ©΄ μ–΄λ–¤ κ°μ²΄λ“  λ„£μ„ μ μκΈ° λ•λ¬Έμ΄λ‹¤.
- κ·Έλ¬λ©΄ λ³€μλ¥Ό μ„ μ–Έν•λ” ν΄λμ¤μ—μ„ μ‹¤μ  κ°μ²΄μ ν•μ‹μ„ λ°λΌλ„ λλ‹¤. 

```java
Dog d = new Dog();
d.bark();
```

ν•μ§€λ§ μΈν„°νμ΄μ¤μ™€ μƒμ„ ν•μ‹μ— λ§μ¶°μ„ ν”„λ΅κ·Έλλ°ν•λ‹¤λ©΄ λ‹¤μκ³Ό κ°™μ΄ ν•  μ μλ”°.
```java
Animal animal = new Dog();
animal.makeSound();
```

λ” λ°”λμ§ν• λ°©λ²•μ€ μƒμ„ ν•μ‹μ μΈμ¤ν„΄μ¤λ¥Ό λ§λ“λ” κ³Όμ •μ„ μ§μ ‘ μ½”λ“λ΅ λ§λ“λ” λ€μ‹  κµ¬μ²΄μ μΌλ΅ κµ¬ν„λ κ°μ²΄λ¥Ό μ‹¤ν–‰ μ‹μ— λ€μ…ν•λ” κ²ƒμ΄λ‹¤. 
```java
a = getAnimal();
a.makeSound();
```

----

## μ¤λ¦¬μ ν–‰λ™μ„ κµ¬ν„ν•λ” λ°©λ²•
- `FlyBehavior`μ™€ `QuackBehavior`λΌλ” 2κ°μ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ‹¤. 
- κ·Έλ¦¬κ³  κµ¬μ²΄μ μΈ ν–‰λ™μ„ κµ¬ν„ν•λ” ν΄λμ¤λ“¤μ΄ μλ‹¤. 

- μ΄λ° μ‹μΌλ΅ λ””μμΈν•λ©΄ λ‹¤λ¥Έ ν•μ‹μ κ°μ²΄μ—μ„λ„ λ‚λ” ν–‰λ™κ³Ό κ½¥κ½¥κ±°λ¦¬λ” ν–‰λ™μ„ μ¬μ‚¬μ©ν•  μ μλ‹¤.
- κ·Έλ° ν–‰λ™μ΄ λ” μ΄μƒ Duck ν΄λμ¤ μ•μ— μ¨κ²¨μ Έ μμ§€ μ•μΌλ‹κΉ~
- κ·Έλ¦¬κ³  κΈ°μ΅΄μ ν–‰λ™ ν΄λμ¤λ¥Ό μμ •ν•κ±°λ‚ λ‚ μ•„λ‹¤λ‹λ” ν–‰λ™μ„ μ‚¬μ©ν•λ” Duck ν΄λμ¤λ¥Ό μ „ν€ κ±΄λ“λ¦¬μ§€ μ•κ³ λ„ μƒλ΅μ΄ ν–‰λ™μ„ μ¶”κ°€ν•  μ μλ‹¤. 

## μ¤λ¦¬ ν–‰λ™ ν†µν•©ν•κΈ°
- κ°€μ¥ μ¤‘μ”ν• μ μ€ λ‚λ” ν–‰λ™κ³Ό κ½¥κ½¥κ±°λ¦¬λ” ν–‰λ™μ„ Duck ν΄λμ¤μ—μ„ μ •μν• λ©”μ†λ“λ¥Ό μ¨μ„ κµ¬ν„ν•μ§€ μ•κ³  λ‹¤λ¥Έ ν΄λμ¤μ— **μ„μ„**ν•λ‹¤λ” κ²ƒμ΄λ‹¤. 

- μ°μ„  Duck ν΄λμ¤μ— flyBehaviorμ™€ quackBehaviorλΌλ” μΈν„°νμ΄μ¤ ν•μ‹μ μΈμ¤ν„΄μ¤ λ³€μλ¥Ό μ¶”κ°€ν•λ‹¤. 
- κ° μ¤λ¦¬ κ°μ²΄μ—λ” μ‹¤ν–‰ μ‹μ— μ΄ λ³€μμ— νΉμ • ν–‰λ™ ν•μ‹(FlyWithWings, Squeak λ“±)μ λ νΌλ°μ¤λ¥Ό λ‹¤ν•μ μΌλ΅ μ„¤μ •ν•λ‹¤. 
- Duck ν΄λμ¤μ—μ„ fly()μ™€ quack() λ€μ‹  `performFly()`μ™€ `perfromQuack()`μ΄λΌλ” λ©”μ†λ“λ¥Ό λ„£λ”λ‹¤.


```java
public abstract class Duck {
    //ν–‰λ™ μΈν„°νμ΄μ¤ ν•μ‹μ λ νΌλ°μ¤ λ³€μ 2κ°λ¥Ό μ„ μ–Έν•λ‹¤. κ°™μ€ ν¨ν‚¤μ§€μ— μ†ν•λ” λ¨λ“  μ„λΈ ν΄λμ¤μ—μ„ μ΄ λ³€μλ¥Ό μƒμ†λ°›λ”λ‹¤. 
    FlyBehavior flyBehavior;
    QuackBehavior quackBehavior;

    public Duck() {}
    public abstract void display();
    public void perfromFly() {
        flyBehavior.fly(); //ν–‰λ™ ν΄λμ¤μ— μ„μ„ν•λ‹¤. 
    } 
    public void peformQuack(){
        quackBehavior.quack(); //ν–‰λ™ ν΄λμ¤μ— μ„μ„ν•λ‹¤. 
    }
    public void swim(){
        System.out.println('λ¨λ“  μ¤λ¦¬λ” λ¬Όμ— λΉλ‹λ‹¤');
    }
}
```

```java
public class MallardDuck extends Duck {
    public MallardDuck() {
        // MaalardDuckμ€ Duck γ…‹λ¥΄λμ¤μ—μ„ quackBehaviorμ™€ flyBehavior μΈμ¤ν„΄μ¤ λ³€μλ¥Ό μƒμ†λ°›λ”λ‹¤!
        quackBehavior = new Quack();
        flyBehavior = new FlyWithWings();
    }
    puvlic void display() {
        System.out.println('μ €λ” λ¬Όμ¤λ¦¬μ…λ‹λ‹¤.');
    }
}
```

```java
public interface FlyBehavior {
    public void fly();
}

public class FlyWithWings implements FlyBehavior {
    public void fly(){
        //μ‹¤μ λ΅ λ‚  μ μλ” μ¤λ¦¬λ“¤μ λ‚λ” ν–‰λ™μ„ κµ¬ν„ν• ν΄λμ¤ 
        System.out.println('λ‚ κ³  μμ–΄μ”!');
    }
}

public class FlyNoWay implements FlyBehavior {
    public void fly(){
        //κ³ λ¬΄ μ¤λ¦¬λ‚ κ°€μ§ μ¤λ¦¬ κ°™μ€ λ‚  μ μ—†λ” μ¤λ¦¬λ“¤μ λ‚λ” ν–‰λ™μ„ κµ¬ν„ν• ν΄λμ¤ 
        System.out.println('μ €λ” λ» λ‚ μ•„μ”!');
    }
}
```

```java
public interface QuackBehavior {
    public void quack();
}
```
## λ™μ μΌλ΅ ν–‰λ™ μ§€μ •ν•κΈ° 
- μ‹¤ν–‰ μ¤‘μ— μ¤λ¦¬μ ν–‰λ™μ„ λ°”κΎΈκ³  μ‹¶μΌλ©΄ μ›ν•λ” ν–‰λ™μ— ν•΄λ‹Ήν•λ” Duckμ **μ„Έν„° λ©”μ†λ“λ¥Ό νΈμ¶**ν•λ‹¤. 

Duck ν΄λμ¤μ— λ©”μ†λ“ 2κ° μ¶”κ°€
```java
public void setFlyBehavior(FlyBehavior fb) {
    flyBehavior = fb;
}
public void setQuackBehavior(QyackBehavior qb){
    quackBehavior = qb;
}
```

## μΊ΅μν™”λ ν–‰λ™ μ‚΄ν΄λ³΄κΈ°
- μΊ΅μν™”λ λ‚λ” ν–‰λ™
- μΊ΅μν™”λ κ½¥κ½¥κ±°λ¦¬λ” ν–‰λ™

## λ‘ ν΄λμ¤λ¥Ό ν•©μΉλ” λ°©λ²•
- **"Aμ—λ” Bκ°€ μλ‹¤"** κ΄€κ³„λ¥Ό μƒκ°ν•΄λ³΄λ©΄ 
- κ° μ¤λ¦¬μ—λ” `FlyBehavior`μ™€ `QuackBehavior`κ°€ μμΌλ©°, κ°κ° λ‚λ” ν–‰λ™κ³Ό κ½¥κ½¥κ±°λ¦¬λ” ν–‰λ™μ„ μ„μ„λ°›λ”λ‹¤.
- μ΄λ° μ‹μΌλ΅ λ‘ ν΄λμ¤λ¥Ό ν•©μΉλ” κ²ƒμ„ **κµ¬μ„±(composition)**μ„ μ΄μ©ν•λ‹¤ λΌκ³  λ¶€λ¥Έλ‹¤.
- μ—¬κΈ°μ„ μ¤λ¦¬ ν΄λμ¤μ—μ„λ” ν–‰λ™μ„ μƒμ†λ°›λ” λ€μ‹ , μ¬λ°”λ¥Έ ν–‰λ™ κ°μ²΄λ΅ κµ¬μ„±λμ–΄ ν–‰λ™μ„ λ¶€μ—¬λ°›λ”λ‹¤. 

## λ””μμΈ μ›μΉ™ 3 π’… 

> μƒμ†λ³΄λ‹¤λ” κµ¬μ„±μ„ ν™μ©ν•λ‹¤